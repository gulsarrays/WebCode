function hideAlert(){document.getElementById("alertMsg").style.display="none"}function hideExpertformAlert(){document.getElementById("alertMsg2").style.display="none"}function showAlert(){document.getElementById("alertMsg").style.display="block"}function showAlert2(){document.getElementById("alertMsg2").style.display="block"}function showsuccess(){document.getElementById("successMsg").style.display="block"}function hidesuccess(){document.getElementById("successMsg").style.display="none"}function hideTopicAlert(){document.getElementById("alertMsg1").style.display="none"}function hideexpertform(){document.getElementById("expname").value="",document.getElementById("explastname").value="",document.getElementById("exptitle").value="",document.getElementById("expdesc").value="",document.getElementById("promotitle").value="",document.getElementById("images").value="",document.getElementById("bioimage").value="",document.getElementById("thumbnailimage").value="",document.getElementById("promoimage").value="",document.getElementById("listviewimage").value="",document.getElementById("fbshareimage").value="",document.getElementById("expertvoiceover").value="",document.getElementById("exprating").value="",document.getElementById("expprefix").value=""}function setimagepreviewsdivs(){var e=$("#images").val().trim(),t=$("#bioimage").val().trim(),i=$("#thumbnailimage").val().trim(),n=$("#promoimage").val().trim(),r=$("#listviewimage").val().trim(),l=$("#fbshareimage").val().trim();""!=e&&null!=e||$("#pimages").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=t&&null!=t||$("#pbioimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=i&&null!=i||$("#pthumbnailimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=n&&null!=n||$("#ppromoimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=r&&null!=r||$("#plistviewimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=l&&null!=l||$("#pfbshareimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png")}function edit_setimagepreviewsdivs(){var e,t=$("#images").val().trim(),i=$("#bioimage").val().trim(),n=$("#thumbnailimage").val().trim(),r=$("#promoimage").val().trim(),l=$("#listviewimage").val().trim(),o=$("#fbshareimage").val().trim();""!=t&&null!=t||(e=$("#previewexpertimage_2x").attr("src"),$("#pimages").attr("src",e)),""!=i&&null!=i||(e=$("#ebioimage").attr("src"),$("#pbioimage").attr("src",e)),""!=n&&null!=n||(e=$("#ethumbnailimage").attr("src"),$("#pthumbnailimage").attr("src",e)),""!=r&&null!=r||(e=$("#epromoimage").attr("src"),$("#ppromoimage").attr("src",e)),""!=l&&null!=l||(e=$("#elistviewimage").attr("src"),$("#plistviewimage").attr("src",e)),""!=o&&null!=o||(e=$("#efbshareimage").attr("src"),$("#pfbshareimage").attr("src",e))}function isexpertimageselected(){var e=0,t=$("#images").val().trim(),i=$("#bioimage").val().trim(),n=$("#thumbnailimage").val().trim(),r=$("#promoimage").val().trim(),l=$("#listviewimage").val().trim(),o=$("#fbshareimage").val().trim();return""!=t&&null!=t?e=1:""!=i&&null!=i?e=1:""!=n&&null!=n?e=1:""!=r&&null!=r?e=1:""!=l&&null!=l?e=1:""!=o&&null!=o&&(e=1),e}function hideversioneditForm(){$(".audvisor-version-edit-modal").modal("hide")}function showAlert1(){document.getElementById("alertMsg1").style.display="block"}function showEditInsight(){$(".audvisor-insight-edit-modal").modal("show"),document.getElementById("editinsight").style.display="block",document.getElementById("ititle").focus(),hideAlert()}function hideInsightEditForm(){document.getElementById("editinsight").style.display="none",document.getElementById("ititle").value="",$(".audvisor-insight-edit-modal").modal("hide")}function onTopicEditBtnClick(e,t,i){document.getElementById("etopicname").value=t.trim(),document.getElementById("topicimages").value="",document.getElementById("topicid").value=e,document.getElementById("etopicname").focus(),$("#previewtopicimage_2x").attr("src",i),hideTopicAlert(),showEditTopic()}function onVersionEditBtnClick(e,t,i,n,r,l,o){n=htmlspecialchars_decode((n=decodeURIComponent(n)).replace(/\+/g," "));var d=/<br\s*[\/]?>/gi;flddescription=n.replace(d,"\n"),document.getElementById("genericversion").value=t,document.getElementById("applicationurl").value=i,document.getElementById("versiondescription").value=flddescription,document.getElementById("bundledversion").value=l,document.getElementById("versionid").value=e,document.getElementById("update").value,$("#update").val(r),$("#platform").val(o)}function showimagepreview(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#previewimage").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}function showimagespreview(e){readExpertURLs(e)}function showtopicimagepreview(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){$("#topicpreviewimage").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}function showtopicimagespreview(e){removespans(4),readTopicURLs(e)}function readTopicURLs(e){if(e.files)for(var t=0;t<e.files.length;++t){var i=e.files[t],n=new FileReader,r=0;n.onload=function(e){var t=document.createElement("span");t.setAttribute("id","span"+r),++r%2==0?t.innerHTML=['<img class="thumb" src="',e.target.result,'" title="',escape(i.name),'" height="90" width="128" id="timgx',r,'" style="border:1px solid #0174DF"/><br><br>'].join(""):t.innerHTML=['<img class="thumb" src="',e.target.result,'" title="',escape(i.name),'" height="90" width="128" id="timgx',r,'"  style="border:1px solid #0174DF"/>&nbsp&nbsp&nbsp'].join(""),document.getElementById("list").insertBefore(t,null)},n.readAsDataURL(i)}}function removespans(e){for(var t=0;e>t;t++)document.getElementById("span"+t)&&$("#span"+t).remove()}function setexpertimagespan(){if(0==$("#eimgx1").length)for(var e=0;1>e;++e){var t=document.createElement("span");t.setAttribute("id","span"+e);var i=e+1;t.innerHTML=i%2==0?['<img class="thumb" src="" title="image',i,'" height="90" width="128" id="eimgx',i,'" style="border:1px solid #0174DF"/><br><br>'].join(""):['<img class="thumb" src="" title="image',i,'" height="90" width="128" id="eimgx',i,'"  style="border:1px solid #0174DF"/>&nbsp&nbsp&nbsp'].join(""),document.getElementById("expertlist").insertBefore(t,null)}var n=document.getElementById("previewexpertimage_2x").getAttribute("src");$("#eimgx1").attr("src",n)}function settopicimagespan(){if(0==$("#timgx1").length)for(var e=0;1>e;e++){var t=document.createElement("span");t.setAttribute("id","span"+e);var i=e+1;t.innerHTML=i%2==0?['<img class="thumb" src="" title="image',i,'" height="90" width="128" id="timgx',i,'" style="border:1px solid #0174DF"/><br><br>'].join(""):['<img class="thumb" src="" title="image',i,'" height="90" width="128" id="timgx',i,'"  style="border:1px solid #0174DF"/>&nbsp&nbsp&nbsp'].join(""),document.getElementById("list").insertBefore(t,null)}var n=document.getElementById("previewtopicimage_2x").getAttribute("src");$("#timgx1").attr("src",n)}function readExpertURLs(e){if(e.files){var t="#p"+e.id,i=e.files[0],n=new FileReader;n.onload=function(e){$(t).attr("src",e.target.result)},n.readAsDataURL(i)}}function insightpreview(e){document.getElementById("previewititle").innerHTML=$("#ititle").val().trim();var t=$("#fbsharedesc").val().trim();t=t.replace(/<br\s*[\/]?>/gi,"\n");var i=$("#insightrating").val().trim();$("#insightrating").val().trim()||(i=50),document.getElementById("previewinsightrating").innerHTML=i;var n=$.map($("#topicid option:selected"),function(e,t){return $(e).text()}),r=$.map($("#playlistid option:selected"),function(e,t){return $(e).text()});document.getElementById("previewplaylistid").innerHTML=r.join(", "),$.map($("#groupid option:selected"),function(e,t){return $(e).text()}),document.getElementById("previewtopicid").innerHTML=n.join(", "),document.getElementById("previewexpid").innerHTML=$("#expid option:selected").text(),document.getElementById("previewfbsharedesc").value=unescapeHTML(escapeHtml($("#fbsharedesc").val().trim()));var l=$("#insight").val().replace(/C:\\fakepath\\/i,""),o=$("#insightvoiceover").val().replace(/C:\\fakepath\\/i,"");""!=l&&null!=l?(document.getElementById("previewfile").innerHTML=l,document.getElementById("previewfilerow").style.display="block"):document.getElementById("previewfilerow").style.display="none",""!=o&&null!=o?(document.getElementById("previewvofile").innerHTML=o,document.getElementById("previewvofilerow").style.display="block"):document.getElementById("previewvofilerow").style.display="none"}function editexpertpreview(){var e=$("#expertdesc").val().trim(),t=$("#twitterhandle").val().trim();if("@"!==t.substr(0,1)&&t&&(t="@"+t),t){var i="https://twitter.com/"+t;$("#previewtwitterhandle").attr("href",i)}document.getElementById("previewexpertprefix").innerHTML=$("#expertprefix").val().trim(),document.getElementById("previewexpertname").innerHTML=$("#expertname").val().trim(),document.getElementById("previewlastname").innerHTML=$("#lastname").val().trim(),document.getElementById("previewexperttitle").innerHTML=escapeHtml($("#experttitle").val().trim()),document.getElementById("previewexpertdesc").innerHTML=escapeHtml(e),document.getElementById("previewpromotitle").innerHTML=$("#promotitle").val().trim(),document.getElementById("previewtwitterhandle").innerHTML=escapeHtml(t),document.getElementById("previewexpertrating").innerHTML=$("#expertrating").val().trim(),document.getElementById("previewexpertvoiceover").innerHTML="No File Selected";var n=$("#expertvoiceover").val().replace(/C:\\fakepath\\/i,"");null!=n&&""!=n&&(document.getElementById("previewexpertvoiceover").innerHTML=n),document.getElementById("images").value,edit_setimagepreviewsdivs(),isexpertimageselected()?(document.getElementById("imgnotavailable").style.visibility="hidden",document.getElementById("lblnotselected").style.visibility="hidden",document.getElementById("lblimgselected").style.visibility="visible"):(document.getElementById("imgnotavailable").style.visibility="visible",document.getElementById("lblimgselected").style.visibility="hidden",document.getElementById("lblnotselected").style.visibility="visible")}function expertpreview(){var e=$("#exprating").val().trim();e||(e=50);var t=$("#twitterhandle").val().trim();if("@"!==t.substr(0,1)&&t&&(t="@"+t),t){var i="https://twitter.com/"+t;$("#previewtwitterhandle").attr("href",i)}document.getElementById("previewexpertprefix").innerHTML=$("#expprefix").val().trim(),document.getElementById("previewexpertname").innerHTML=$("#expname").val().trim(),document.getElementById("previewlastname").innerHTML=$("#explastname").val().trim(),document.getElementById("previewpromotitle").innerHTML=$("#promotitle").val().trim(),document.getElementById("previewexperttitle").innerHTML=escapeHtml($("#exptitle").val().trim()),document.getElementById("previewexpertdesc").innerHTML=escapeHtml($("#expdesc").val().trim()),document.getElementById("previewexpertrating").innerHTML=e,document.getElementById("previewtwitterhandle").innerHTML=escapeHtml(t);var n=$("#expertvoiceover").val().replace(/C:\\fakepath\\/i,"");document.getElementById("previewexpertvoiceover").innerHTML=null!=n&&""!=n?n:"No File Selected",document.getElementById("images").value,setimagepreviewsdivs(),isexpertimageselected()?document.getElementById("expertimagepresenet").innerHTML="":document.getElementById("expertimagepresenet").innerHTML="Images Not Selected"}function topicpreview(){document.getElementById("previewtopicname").innerHTML=$("#topicname").val().trim();var e=document.getElementById("topicimages").value;document.getElementById("topicimagepresenet").innerHTML=""==e||null==e?"Image Not Selected":""}function topiceditpreview(){document.getElementById("previewtopicname").innerHTML=$("#etopicname").val().trim();var e=document.getElementById("topicimages").value;""==e||null==e?($("#timgx1").length&&removespans(4),settopicimagespan(),document.getElementById("imgnotavailable").style.visibility="visible"):document.getElementById("imgnotavailable").style.visibility="hidden"}function enablecontrol(e,t){document.getElementById(e).checked?document.getElementById(t).style.visibility="visible":document.getElementById(t).style.visibility="hidden"}function onInsightEditBtnClick(e,t,i,n,r,l,o,d,a,s){var m=decodeURIComponent(a),c=/<br\s*[\/]?>/gi,u=(m=htmlspecialchars_decode(m.replace(/\+/g," "))).replace(c,"\n");l?(-1==l.search(awsurl)&&(l=awsurl+l),document.getElementById("insightmp3").src=l,document.getElementById("editinsightplayer").load(),document.getElementById("lblnostreamurl").style.display="none",document.getElementById("editinsightplayer").style.display="block"):(document.getElementById("lblnostreamurl").style.display="block",document.getElementById("editinsightplayer").style.display="none",document.getElementById("insightmp3").src=""),d?(d=awsvoiceoverurl+d,document.getElementById("voiceovermp3").src=d,document.getElementById("editinsightvoplayer").load(),document.getElementById("lblnovourl").style.display="none",document.getElementById("editinsightvoplayer").style.display="block"):(document.getElementById("lblnovourl").style.display="block",document.getElementById("editinsightvoplayer").style.display="none",document.getElementById("voiceovermp3").src=""),document.getElementById("fbsharedesc").value=u,document.getElementById("ititle").value=t,document.getElementById("insightid").value=e,document.getElementById("insighturl").value=r,document.getElementById("streamingurl").value=l,document.getElementById("insightrating").value=o,document.getElementById("insight").value="",$("#topicid").multiselect("rebuild"),$("#expid").multiselect("rebuild");var p=n.replace("[",""),g=(p=p.replace("]","")).split(",");for($("#expid option:selected").removeAttr("selected"),$("#expid").multiselect("select",i.trim()),$("#expid").multiselect("refresh"),$("#topicid option:selected").removeAttr("selected"),$("#topicid").multiselect("refresh"),h=0;h<g.length;h++)$("#topicid").multiselect("select",g[h]);if(null!=s){var v=s.replace("[",""),y=(v=v.replace("]","")).split(",");$("#playlistid option:selected").removeAttr("selected"),$("#playlistid").multiselect("refresh");for(var h=0;h<y.length;h++)$("#playlistid").multiselect("select",y[h])}var f=r.split(".").pop();r=(r=r.replace("insights1/","").replace(f,"")).replace(".",""),hidesuccess(),showEditInsight()}function nocopyspecialchars(e){var t=document.getElementById(e),i=t.value;new_text=i.replace(/[^0-9a-zA-Z!@#$%^&*'.():-]/g,""),i!=new_text&&(t.value=new_text)}function no_nonnumbers(e){var t=document.getElementById(e),i=t.value;new_text=i.replace(/[^0-9]/g,""),i!=new_text&&(t.value=new_text,alert("Only Numeric Values Allowed"))}function rating_range(e){var t=document.getElementById(e),i=t.value,n=i.replace(/[^0-9]/g,"");""==i?n="":i>100?n=10:1>i&&(n=10),i!=n&&(t.value="",alert("Only Numeric Values Allowed. Accepted Range 1 - 100"))}function reputation_range(e){var t=document.getElementById(e),i=t.value,n=i.replace(/[^0-9]/g,"");""==i?n="":i>10?n=10:1>i&&(n=10),i!=n&&(t.value="",alert("Only Numeric Values Allowed Accepted Range 1 - 10"))}function validformdata(e){var t=$("#ititle").val().trim(),i=$("#expid").val(),n=$("#insight").val().trim(),r=$("#insightvoiceover").val().trim(),l=0;return""==t||null==t?(document.getElementById("alertMsg").innerHTML="Enter the Insight Title",showAlert(),$("#ititle").focus(),l=1):""==e||null==e?(showAlert(),document.getElementById("alertMsg").innerHTML="Select Topic",document.getElementById("topicid").focus(),l=1):""==i||-1==i||null==i?(showAlert(),document.getElementById("alertMsg").innerHTML="Select Expert",document.getElementById("expid").focus(),l=1):""==n||null==n?(showAlert(),document.getElementById("alertMsg").innerHTML="Select Insight File ",document.getElementById("insight").focus(),l=1):""!=r&&null!=r||(showAlert(),document.getElementById("alertMsg").innerHTML="Select Voice-Over File ",document.getElementById("insightvoiceover").focus(),l=1),l}function validexpformdata(){var e=document.getElementById("expname").value.trim(),t=document.getElementById("explastname").value.trim(),i=document.getElementById("exptitle").value.trim(),n=document.getElementById("expdesc").value.trim(),r=$("#expertvoiceover").val().trim(),l=0;return""==e||null==e?(showAlert2(),document.getElementById("alertMsg2").innerHTML="Enter the First Name",document.getElementById("expname").focus(),document.getElementById("alertMsg2").scrollIntoView(),l=1):""==t||null==t?(showAlert2(),document.getElementById("alertMsg2").innerHTML="Enter the Last Name ",document.getElementById("explastname").focus(),document.getElementById("alertMsg2").scrollIntoView(),l=1):""==i||null==i?(showAlert2(),document.getElementById("alertMsg2").innerHTML="Enter Title ",document.getElementById("exptitle").focus(),document.getElementById("alertMsg2").scrollIntoView(),l=1):""==n||null==n?(showAlert2(),document.getElementById("alertMsg2").innerHTML="Enter Biography",document.getElementById("expdesc").focus(),document.getElementById("alertMsg2").scrollIntoView(),l=1):""!=r&&null!=r||(showAlert2(),document.getElementById("alertMsg2").innerHTML="Please Select Voice-Over Audio  ",document.getElementById("expertvoiceover").focus(),document.getElementById("alertMsg2").scrollIntoView(),l=1),l}function uploadLogo(e,t){var i=document.getElementById(e),n=new FormData(i),r="";$.ajax({url:apibaseurlString+"experts/"+t+"/uploadexpertimage",type:"POST",data:n,async:!1,success:function(e){255==e.code?alert("Image upload failed"):r=e.thumbnail},error:function(e,t){ajaxerrors(e,t)},cache:!1,contentType:!1,processData:!1})}function updateAvatar(e,t){var i=document.getElementById(e),n=new FormData(i),r="";$.ajax({url:apibaseurlString+"experts/"+t+"/updateexpertimage",type:"POST",data:n,async:!1,success:function(e){255==e.code?alert("Image upload failed"):r=e.thumbnail},error:function(e,t){ajaxerrors(e,t)},cache:!1,contentType:!1,processData:!1})}function uploadexprtsvoiceoverAudio(e,t){var i=document.getElementById(e),n=new FormData(i),r="";$.ajax({url:apibaseurlString+"experts/"+t+"/uploadexpertvoiceover",type:"POST",data:n,async:!1,success:function(e){255==e.code?alert("Voice over upload failed"):r=e.thumbnail},error:function(e,t){ajaxerrors(e,t)},cache:!1,contentType:!1,processData:!1})}function uploadTopicLogo(e,t){var i=document.getElementById(e),n=new FormData(i),r="";$.ajax({url:apibaseurlString+"topics/"+t+"/uploadtopicimage",type:"POST",data:n,async:!1,success:function(e){255==e.code?alert("Image upload failed"):r=e.thumbnail},error:function(e,t){ajaxerrors(e,t)},cache:!1,contentType:!1,processData:!1})}function uploadAudio(e,t){var i=document.getElementById(t),n=new FormData(i);return $.ajax({type:"POST",async:!1,url:apibaseurlString+"insights/"+e+"/uploadaudio",data:n,success:function(t){if(255==t.code)alert("Insight upload failed");else if(323==t.code&&1==confirm("Insight Duration is less than 10 sec do you want to Delete it? \n \nPress OK to continue, or click Cancel to abort the deletion.")){var t=ajaxcall("delete",!1,apibaseurlString+"insights/"+e,null,"json");location.reload()}},error:function(e,t){ajaxerrors(e,t)},cache:!1,contentType:!1,processData:!1}),""}function uploadInsightvoiceover(e,t){var i=document.getElementById(t),n=new FormData(i),r="";return $.ajax({type:"POST",async:!1,url:apibaseurlString+"insights/"+e+"/uploadvoiceoveraudio",data:n,success:function(e){255==e.code?alert("Insight Voice-Over upload failed"):r=e.thumbnail},error:function(e,t){ajaxerrors(e,t)},cache:!1,contentType:!1,processData:!1}),r}function submitform(e,t){var i=$("#insightrating").val().trim();i||(i=50),$.ajax({type:"POST",async:!1,url:apibaseurlString+"addinsights",data:function(){return JSON.stringify({title:$("#ititle").val().trim(),topic_ids:e,expert_id:$("#expid").val().trim(),group_id:$("#groupid").val().trim(),rating:i,fbshare_description:$("#fbsharedesc").val().trim(),playlist_id:t})}(),success:function(e){uploadAudio(e.id,"regform"),uploadInsightvoiceover(e.id,"regform"),$("#ititle").val(""),$("#insight").val(""),$("#fbsharedesc").val(""),$("#insightvoiceover").val(""),$("#insightreputation").val(""),$("#topicid option:selected").removeAttr("selected"),$("#expid").prop("selectedIndex",0)},statusCode:{200:function(){hideinsightpreview(),clearinsightform(),showinsightsuccess(),hideAlert(),$("#btnsubmitinsight").disabled=!1},404:function(){}},error:function(e,t){ajaxerrors(e,t)}})}function hideexpertmodalform(){document.getElementById("regform1").style.display="none",document.getElementById("expertaddbutton").style.display="none"}function showexpertpreviewmodal(){document.getElementById("previewexpertForm").style.display="block",document.getElementById("expertpreviewbutton").style.display="block"}function showexpertmodalform(){document.getElementById("previewexpertForm").style.display="none",document.getElementById("expertpreviewbutton").style.display="none",document.getElementById("regform1").style.display="block",document.getElementById("expertaddbutton").style.display="block"}function showtopicmodalform(){document.getElementById("topicpreviewbutton").style.display="none",document.getElementById("previewtopicform").style.display="none",document.getElementById("newtopicAddForm").style.display="block",document.getElementById("topicaddbutton").style.display="block"}function showeditexpertmodalform(){hideAlert(),document.getElementById("previewexpertForm").style.display="none",document.getElementById("expertpreviewbutton").style.display="none",document.getElementById("editexpertForm").style.display="block",document.getElementById("expertaddbutton").style.display="block"}function editexpertconirmation(){isUpdateExpertValid()||(editexpertpreview(),showexpertpreviewForm())}function expertconirmation(e){var t=$("#images").val().trim();""!=t&&null!=t||removespans(4),hidesuccess(),validexpformdata()||($("#btneditexpert").removeAttr("disabled"),hideExpertformAlert(),expertpreview(),showexpertpreviewForm(),e&&(hideexpertmodalform(),showexpertpreviewmodal()))}function showtopicpreviewform(){$(".audvisor-topic-preview-modal").modal("show")}function hidetopicpreviewform(){$(".audvisor-topic-preview-modal").modal("hide")}function topiceditconirmation(){isUpdateTopicValid()||(topiceditpreview(),showtopicpreviewform())}function topicconirmation(e){if(!isAddTopicValid()){var t=$("#topicimages").val().trim();""!=t&&null!=t||removespans(4),hideTopicAlert(),$("#btnAddtopic").removeAttr("disabled"),topicpreview(),showtopicpreviewform(),e&&(hidetopicmodalform(),showtopicpreviewmodal())}}function editinsightconfirmation(e,t){isUpdateInsightValid(e)||(insightpreview(e),showinsightpreview())}function insightconfirmation(e){validformdata(e)||(insightpreview(e),showinsightpreview(),$("#btnsubmitinsight").removeAttr("disabled"))}function showinsightpreview(){$(".audvisor-insight-preview-modal").modal("show")}function hideinsightpreview(){$(".audvisor-insight-preview-modal").modal("hide")}function showtopicpreviewmodal(){document.getElementById("topicpreviewbutton").style.display="block",document.getElementById("previewtopicform").style.display="block"}function hidetopicpreviewmodal(){document.getElementById("topicpreviewbutton").style.display="none",document.getElementById("previewtopicform").style.display="none"}function hidetopicmodalform(){document.getElementById("newtopicAddForm").style.display="none",document.getElementById("topicaddbutton").style.display="none"}function submitexpform(e){document.getElementById("btneditexpert").disabled=!0;var t=$("#exprating").val().trim();t||(t=50);var i=$("#expdesc").val().trim(),n=$("#exptitle").val().trim(),r=$("#promotitle").val().trim(),l=$("#expprefix").val().trim(),o=$("#twitterhandle").val().trim();validexpformdata()||$.ajax({type:"POST",async:!1,url:apibaseurlString+"addexperts",data:function(){return $("#images").val(),JSON.stringify({name:$("#expname").val().trim(),title:n,lastname:$("#explastname").val().trim(),rating:t,description:i,promotitle:r,prefix:l,twitter_handle:o})}(),dataType:"json",success:function(e){if(1==e.status)return alert("Expert already exists"),void(n?showexpertmodalform():hideexpertpreviewForm());if(4!=e.status){uploadexprtsvoiceoverAudio("regform1",e.records.expert_id),isexpertimageselected()&&uploadLogo("regform1",e.records.expert_id);try{if(document.getElementById("successMsg").innerHTML="Expert added successfully",document.getElementById("images").value="",document.getElementById("expertvoiceover").value="",document.getElementById("twitterhandle").value="",document.getElementById("promotitle").value="",showsuccess(),hideexpertpreviewForm(),hideExpertformAlert(),n){var t=document.getElementById("expid"),i=document.createElement("option");i.value=e.records.expert_id,i.text=e.records.expert_name,t.appendChild(i),$("#expid").multiselect("rebuild"),$("#expid").multiselect("select",e.records.expert_id),$("#expid").multiselect("refresh"),hideExpertaddForm()}else hideexpertform();hideexpertform()}catch(n){alert("Error:"+n)}}else expertreenable(e.id)},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function onVersionDeleteBtnClick(e){1==confirm("Are you sure you want to delete this Version ? \n \nPress OK to continue, or click Cancel to abort the deletion.")&&$.ajax({type:"delete",url:apibaseurlString+"versions/"+e,success:function(e){return 2==e?(alert("Error occured while deleting"),0):void location.reload()},statusCode:{404:function(){alert("Page not found")}},error:function(e,t){ajaxerrors(e,t)}})}function updateversion(){var e=document.getElementById("genericversion").value.trim(),t=document.getElementById("applicationurl").value.trim(),i=document.getElementById("versiondescription").value.trim(),n=document.getElementById("bundledversion").value.trim(),r=document.getElementById("update").value.trim(),l=document.getElementById("platform").value.trim(),o=document.getElementById("versionid").value.trim();validversionformdata()||$.ajax({type:"PUT",async:!1,url:apibaseurlString+"versions/"+o,data:function(){return JSON.stringify({app_version:e,app_store_url:t,version_description:i,bundle_version:n,platform:l,mandatory_update:r})}(),dataType:"json",success:function(e){location.reload()},error:function(e,t){ajaxerrors(e,t)}})}function submitversion(){var e=document.getElementById("genericversion").value.trim(),t=document.getElementById("applicationurl").value.trim(),i=document.getElementById("versiondescription").value.trim(),n=document.getElementById("bundledversion").value.trim(),r=document.getElementById("update").value.trim(),l=document.getElementById("platform").value.trim();document.getElementById("btnaddversion").disabled=!0,validversionformdata()||$.ajax({type:"POST",async:!1,url:apibaseurlString+"versions",data:function(){return JSON.stringify({app_version:e,app_store_url:t,version_description:i,bundle_version:n,platform:l,mandatory_update:r})}(),dataType:"json",success:function(e){showsuccess(),hideAlert(),hideversiontpreviewForm(),hideversionform()},error:function(e,t){ajaxerrors(e,t)}})}function hidenewTopicForm(){document.getElementById("newtopicAdd").style.display="none",document.getElementById("topicname").value=""}function showAddTopic(){document.getElementById("newtopicAdd").style.display="block",document.getElementById("topicname").focus(),hideAlert()}function UpdateTopic(){var e=document.forms.newtopicEditForm.etopicname.value.trim(),t=document.forms.newtopicEditForm.topicid.value.trim();isUpdateTopicValid()||$.ajax({type:"put",url:apibaseurlString+"topics/"+t,data:function(){return JSON.stringify({topic_id:t,topic_name:e})}(),dataType:"json",success:function(e){if(0==e.status){var t=$("#topicimages").val().trim();""!=t&&null!=t&&uploadTopicLogo("newtopicEditForm",e.topic.id),document.getElementById(e.topic.id).innerHTML=e.topic.title,hideupdateForm(),hidetopicpreviewform(),location.reload()}else 2==e.status?(hidetopicpreviewform(),alert('Topic "'+e.topic_name+'" exists. If you have previously deleted "'+e.topic_name+'" kindly add it again')):3==e.status&&location.reload()},statusCode:{200:function(){hideupdateForm(),hidetopicpreviewform(),location.reload()}},error:function(e,t){ajaxerrors(e,t)}})}function isUpdateInsightValid(e){var t=0,i=document.getElementById("ititle").value,n=(document.getElementById("insight").value.trim(),$("#insightrating").val().trim());return""==i||null==i?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter the Title",document.getElementById("ititle").focus(),t=1):""==n||null==n?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter the Rating(1-100)",document.getElementById("insightrating").focus(),t=1):0==e&&(showAlert(),document.getElementById("alertMsg").innerHTML="Enter the topic",document.getElementById("topicid").focus(),t=1),t}function updateInsight(e,t,i,n){document.getElementById("ititle").value.trim(),document.getElementById("insighturl").value.trim(),document.getElementById("insight").value.trim();var r=$("#insightid").val().trim(),l=(document.getElementById("streamingurl").value.trim(),$("#insightrating").val().trim());isUpdateInsightValid(e)||$.ajax({type:"put",async:!1,url:apibaseurlString+"insights/"+r,data:function(){return JSON.stringify({type:"insight",title:$("#ititle").val().trim(),id:$("#insightid").val().trim(),topic_ids:e,expert_id:$("#expid").val().trim(),rating:l,fbshare_description:$("#fbsharedesc").val().trim(),playlist_id:i})}(),success:function(){var e=$("#insightvoiceover").val().trim(),t=$("#insight").val().trim();""!=t&&null!=t&&uploadAudio(r,"regform"),""!=e&&null!=e&&uploadInsightvoiceover(r,"regform"),location.reload()},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function updateExpert(){var e=document.forms.editexpertForm.expertname.value.trim(),t=document.forms.editexpertForm.lastname.value.trim(),i=document.forms.editexpertForm.expertid.value.trim(),n=(document.forms.editexpertForm.images.value.trim(),$("#promotitle").val().trim()),r=document.getElementById("experttitle").value,l=document.getElementById("expertdesc").value.trim(),o=document.getElementById("expertprefix").value.trim(),d=document.getElementById("expertrating").value.trim(),a=document.getElementById("twitterhandle").value.trim(),s="editexpertForm";isUpdateExpertValid()||$.ajax({type:"put",async:!1,url:apibaseurlString+"experts/"+i,data:function(){return JSON.stringify({name:e,id:i,lastname:t,title:r,description:l,promotitle:n,rating:d,prefix:o,twitter_handle:a})}(),success:function(e){var t=$("#expertvoiceover").val().trim();isexpertimageselected()&&uploadLogo(s,i),""!=t&&null!=t&&uploadexprtsvoiceoverAudio(s,i),1==e.status?(showAlert(),document.getElementById("alertMsg").innerHTML="Expert Already Exists",hideexpertpreviewForm()):4==e.status||(hideExpertEditForm(),hideexpertpreviewForm(),location.reload())},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function isUpdateExpertValid(){var e=0,t=document.forms.editexpertForm.expertname.value.trim(),i=document.getElementById("lastname").value.trim(),n=document.getElementById("experttitle").value.trim(),r=document.getElementById("expertdesc").value.trim(),l=document.getElementById("expertrating").value.trim();return null==l||""==l?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Expert Rating",document.getElementById("expertrating").focus(),e=1):null==t||""==t?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Expert Name",document.getElementById("expertname").focus(),e=1):null==i||""==i?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Expert Last Name",document.getElementById("lastname").focus(),e=1):null==n||""==n?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Expert Title",document.getElementById("experttitle").focus(),e=1):null!=r&&""!=r||(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Expert Description",document.getElementById("expertdesc").focus(),e=1),e}function isUpdateTopicValid(){var e=0,t=document.forms.newtopicEditForm.etopicname.value.trim();return null!=t&&""!=t||(showAlert1(),document.getElementById("alertMsg1").innerHTML="Enter Title",document.getElementById("etopicname").focus(),e=1),e}function online(e,t,i,n){var r="isonline2"+e,l="#"+r,o=1,d="isonlinerow"+e;if(null!=i&&""!=i||0!=n||null!=t&&""!=t||0!=n||1!=confirm("Expert's Profile Image Not Available. Are you sure you want to make this Insight live? \n \nPress OK to continue, or click Cancel to abort the operation.")&&($(l).removeAttr("disabled"),o=0),1==o){var a=function(){return JSON.stringify({insight_id:e})}(),s=ajaxcall("POST",!1,apibaseurlString+"insights/"+e+"/online",a,"json");if(1==s.status)return;getInsightstat(),1==s.result?($(l).removeAttr("disabled"),document.getElementById(r).innerHTML="Online/Offline",document.getElementById(d).className="success"):325==s.result?alert("No streaming URL available this insight cannot be made online"):($(l).removeAttr("disabled"),document.getElementById(r).innerHTML="Online/Offline",document.getElementById(d).className="table-striped"),$("#tableinsight").DataTable().ajax.reload(null,!1)}}function hideupdateForm(){document.getElementById("newtopicEdit").style.display="none",document.getElementById("etopicname").value="",$(".audvisor-topic-edit-modal").modal("hide")}function hideexpertpreviewForm(){$(".audvisor-expert-preview-modal").modal("hide")}function hidetopicpreviewform(){$(".audvisor-topic-preview-modal").modal("hide")}function showexpertpreviewForm(){$(".audvisor-expert-preview-modal").modal("show")}function hideExpertEditForm(){document.getElementById("editexpert").style.display="none",document.getElementById("expertname").value="",document.getElementById("images").value="",$(".audvisor-expert-edit-modal").modal("hide")}function hideExpertaddForm(){document.getElementById("addexpert").style.display="none",document.getElementById("expname").value="",document.getElementById("explastname").value="",document.getElementById("exptitle").value="",document.getElementById("images").value="",document.getElementById("bioimage").value="",document.getElementById("thumbnailimage").value="",document.getElementById("promoimage").value="",document.getElementById("listviewimage").value="",document.getElementById("exprating").value="",document.getElementById("expprefix").value="",document.getElementById("twitterhandle").value="",$("#pimages").attr("src",""),$("#pbioimage").attr("src",""),$("#pthumbimage").attr("src",""),$("#ppromoimage").attr("src",""),$("#plistviewimage").attr("src",""),$("#pfbshareimage").attr("src",""),$(".audvisor-expert-add-modal").modal("hide")}function showEditTopic(){document.getElementById("newtopicEdit").style.display="block",document.getElementById("etopicname").focus(),hideTopicAlert()}function showaddTopic(){hidesuccess(),hideTopicAlert(),showtopicmodalform(),document.getElementById("newtopicAdd").style.display="block",document.getElementById("topicname").value="",document.getElementById("topicimages").value="",document.getElementById("topicname").focus()}function hideaddTopic(){document.getElementById("newtopicAdd").style.display="none",document.getElementById("topicname").value=" ",document.getElementById("topicimages").value="",$(".audvisor-topic-add-modal").modal("hide")}function showEditExpert(){document.getElementById("editexpert").style.display="block",document.getElementById("expertname").focus(),hideAlert()}function showaddExpert(){hidesuccess(),hideExpertformAlert(),showexpertmodalform(),$("#previewimage").attr("src",""),document.getElementById("expname").value="",document.getElementById("explastname").value="",document.getElementById("exptitle").value="",document.getElementById("images").value="",document.getElementById("expdesc").value="",document.getElementById("addexpert").style.display="block",document.getElementById("expname").focus()}function isAddTopicValid(){var e=0;hidesuccess();var t=$("#topicname").val().trim();return null!=t&&""!=t||(showAlert1(),hidesuccess(),document.getElementById("alertMsg1").innerHTML="Enter Title",document.getElementById("topicname").focus(),e=1),e}function addTopic(e){var t=document.getElementById("topicname").value;if(document.getElementById("btnAddtopic").disabled=!0,!isAddTopicValid()){var i=function(){var e=$("#topicimages").val();return e.substring(e.lastIndexOf("\\")+1),JSON.stringify({topic_name:t})}(),n=ajaxcall("POST",!1,apibaseurlString+"addtopics",i,"json");if(1==n.status)return alert("Topic already exists "),void(e?showtopicmodalform():hidetopicpreviewform());var r=$("#topicimages").val().trim();if(""!=r&&null!=r&&uploadTopicLogo("newtopicAddForm",n.records.topic_id),document.getElementById("topicimages").value="",document.getElementById("alertMsg1").style.display="none",document.getElementById("successMsg").innerHTML="Topic added successfully",showsuccess(),document.getElementById("topicimages").value="",e){var l=document.getElementById("topicid"),o=document.createElement("option");o.value=n.records.topic_id,o.text=n.records.topic_name,l.appendChild(o),$("#topicid").multiselect("rebuild"),$("#topicid").multiselect("select",n.records.topic_id),hideaddTopic()}else document.getElementById("topicname").value="",hidetopicpreviewform()}}function validateLoginForm(){var e=document.forms.loginForm.userName.value.trim(),t=document.forms.loginForm.password.value.trim();return null==e||""==e?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter username",!1):null==t||""==t?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter password",!1):void 0}function onTopicDeleteBtnClick(e){if(1==confirm("Are you sure you want to delete this Topic ? \n \nPress OK to continue, or click Cancel to abort the deletion.")){var t=ajaxcall("delete",!1,apibaseurlString+"topics/"+e,null,"json");if(1==t)return alert("This topic is being used by insight(s). Hence it could not be deleted"),0;if(2==t)return alert("Error occured while deleting"),0;location.reload()}}function onExpertDeleteBtnClick(e){if(1==confirm("Are you sure you want to delete this Expert ? \n \nPress OK to continue, or click Cancel to abort the deletion.")){var t=ajaxcall("delete",!1,apibaseurlString+"experts/"+e,null,"json");if(1==t)return alert("This expert is being used by insight(s).  Hence it could not be deleted"),0;if(2==t)return alert("Error occured while deleting"),0;location.reload()}}function onInsightDeleteBtnClick(e){1==confirm("Are you sure you want to delete this Insight ? \n \nPress OK to continue, or click Cancel to abort the deletion.")&&(ajaxcall("delete",!1,apibaseurlString+"insights/"+e,null,"json"),$("#tableinsight").DataTable().ajax.reload(null,!1))}function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return t[e]})}function onExpertEditBtnClick(e,t,i,n,r,l,o,d,a,s,m,c,u,p,g,v,y){l=decodeURIComponent(l),r=decodeURIComponent(r),v=htmlspecialchars_decode((v=(v=decodeURIComponent(v)).substring(1)).replace(/\+/g," ")),m=decodeURIComponent(m),document.getElementById("expertprefix").value=g,document.getElementById("expertname").value=t,document.getElementById("lastname").value=i,document.getElementById("expertid").value=e,document.getElementById("expertrating").value=c,document.getElementById("experttitle").value=htmlspecialchars_decode(r.replace(/\+/g," ")),document.getElementById("twitterhandle").value=htmlspecialchars_decode(v.replace(/\+/g," ")),l=htmlspecialchars_decode(l.replace(/\+/g," "));var h=/<br\s*[\/]?>/gi;flddescription=l.replace(h,"\n"),document.getElementById("expertdesc").value=flddescription,document.getElementById("promotitle").value=htmlspecialchars_decode(m.replace(/\+/g," ")),document.getElementById("images").value="",document.getElementById("images").value="",document.getElementById("bioimage").value="",document.getElementById("thumbnailimage").value="",document.getElementById("promoimage").value="",document.getElementById("listviewimage").value="",document.getElementById("fbshareimage").value="",clear_fileinputs(),u?(document.getElementById("lblexpertvo").style.display="none",document.getElementById("editexpertvoplayer").style.display="block"):(document.getElementById("lblexpertvo").style.display="block",document.getElementById("editexpertvoplayer").style.display="none"),document.getElementById("expertvoiceovermp3").src=u,document.getElementById("editexpertvoplayer").load(),""==n&&null==n||$("#previewimage").attr("src",n),""!=o&&null!=o?$("#previewexpertimage_2x").attr("src",n):$("#previewexpertimage_2x").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=d&&null!=d?$("#ebioimage").attr("src",d):$("#ebioimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=a&&null!=a?$("#ethumbnailimage").attr("src",a):$("#ethumbnailimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=s&&null!=s?$("#epromoimage").attr("src",s):$("#epromoimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=p&&null!=p?$("#elistviewimage").attr("src",p):$("#elistviewimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),""!=y&&null!=y?$("#efbshareimage").attr("src",y):$("#efbshareimage").attr("src",cmsbaseurlString+"src/views/images/noimage.png"),showEditExpert()}function disAllowCopyPasteForSpecialCharacters(e){var t=document.getElementById(e),i=t.value;outputVal=i.replace(/[^?=~0-9a-zA-Z!@#$%^&*'.\n,\\ \/ _():-]/g,""),i!=outputVal&&(t.value=outputVal)}function getstatistics(){return ajaxcall("GET",!1,baseurlString+"getstatistics",null,"json")}function getInsightstat(){var e=getstatistics();updateStatistics(e.insightcount+"  insights from  "+e.expertcount+" experts in "+e.topiccount+" topics.")}function getTopicstat(){var e=getstatistics(),t=0;e.insightcount&&(t=e.insightcount/e.topiccount),updateStatistics(e.topiccount+"  topics with "+e.insightcount+"  insights (Average "+t.toFixed(2)+" insights per topic)")}function getExpertstat(){updateStatistics("str");var e=getstatistics(),t=0;e.insightcount&&(t=e.insightcount/e.expertcount),updateStatistics(e.expertcount+"  experts with "+e.insightcount+"  insights on "+e.topiccount+" topics (Average "+t.toFixed(2)+" insights per expert)")}function updateStatistics(e){document.getElementById("statistics").innerHTML=e}function validversionformdata(){var e=document.getElementById("genericversion").value.trim(),t=document.getElementById("applicationurl").value.trim(),i=document.getElementById("versiondescription").value.trim(),n=document.getElementById("bundledversion").value.trim(),r=document.getElementById("update").value,l=document.getElementById("platform").value,o=0;return""==e||null==e?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter the Version",document.getElementById("genericversion").focus(),o=1):""==t||null==t?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Application URL ",document.getElementById("applicationurl").focus(),o=1):""==i||null==i?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Description ",document.getElementById("versiondescription").focus(),o=1):""==n||null==n?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Bundle Version ",document.getElementById("bundledversion").focus(),o=1):-1==l||null==l?(showAlert(),document.getElementById("alertMsg").innerHTML="Select Platform ",document.getElementById("platform").focus(),o=1):-1!=r&&null!=r||(showAlert(),document.getElementById("alertMsg").innerHTML="Select Mandatory Update ",document.getElementById("update").focus(),o=1),o}function versionconirmation(){hidesuccess(),validversionformdata()||($("#btnaddversion").removeAttr("disabled"),hideAlert(),versionpreview(),showversiontpreviewForm())}function showversiontpreviewForm(){$(".audvisor-version-preview-modal").modal("show")}function hideversiontpreviewForm(){$(".audvisor-version-preview-modal").modal("hide")}function versionpreviewclear(){document.getElementById("previewgenericversion").innerHTML=" ",document.getElementById("previewapplicationurl").innerHTML="",document.getElementById("previewversiondescription").value="",document.getElementById("previewbundledversion").innerHTML="",document.getElementById("previewupdate").innerHTML=""}function versionpreview(){var e=$("#versiondescription").val().trim();e=e.replace(/<br\s*[\/]?>/gi,"\n"),versionpreviewclear(),document.getElementById("previewgenericversion").innerHTML=$("#genericversion").val().trim(),document.getElementById("previewapplicationurl").innerHTML=$("#applicationurl").val().trim(),document.getElementById("previewversiondescription").value=escapeHtml(e),document.getElementById("previewbundledversion").innerHTML=$("#bundledversion").val().trim(),document.getElementById("previewupdate").innerHTML=$("#update option:selected").text(),document.getElementById("previewplatform").innerHTML=$("#platform option:selected").text()}function hideversionform(){$("#update").val("-1"),$("#platform").val("-1"),document.getElementById("genericversion").value="",document.getElementById("applicationurl").value="",document.getElementById("versiondescription").value="",document.getElementById("bundledversion").value=""}function clearinsightform(){$("#ititle").val(""),$("#insight").val(""),$("#insightrating").val(""),$("#topicid option:selected").removeAttr("selected"),$("#topicid").multiselect("refresh"),$("#expid").prop("selectedIndex",0),$("#expid").multiselect("refresh")}function showinsightsuccess(){document.getElementById("successMsg").innerHTML="Insight added successfully",showsuccess()}function hideinsightsuccess(){document.getElementById("successMsg").innerHTML="",hidesuccess()}function previewExpert(e){$.ajax({type:"get",async:!1,url:apibaseurlString+"experts/"+e,success:function(e){e.id,e.firstname,e.lastname,e.expert_bio,e.avatar_link,e.avatar_link_2x,document.getElementById("previewdeletedexpertname").innerHTML=e.record.name,document.getElementById("previewdeletedlastname").innerHTML=e.record.title,document.getElementById("previewdeletedexperttitle").innerHTML=e.record.name,document.getElementById("previewdeletedexpertdesc").innerHTML=e.record.title},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function forgot_password_reset(){if(!isforgetpasswordValid()){var e=$("#newpassword").val().trim(),t=$("#email").html(),i=$("#consumerid").html();$.ajax({type:"PUT",async:!1,url:apibaseurlString+"consumers/performpasswordreset/",data:function(){return JSON.stringify({new_password:e,email_id:t,code:i})}(),dataType:"json",success:function(e){return"success"==e.type?(showsuccess(),document.getElementById("resetform").style.display="none",document.getElementById("successMsg").innerHTML="Your password has been changed successfully",document.getElementById("newpassword").disabled=!0,document.getElementById("confirmpassword").disabled=!0,void(document.getElementById("save_btn").disabled=!0)):(showAlert(),document.getElementById("alertMsg").innerHTML="Link has been expired",document.getElementById("newpassword").disabled=!0,document.getElementById("confirmpassword").disabled=!0,void(document.getElementById("save_btn").disabled=!0))},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}}function isforgetpasswordValid(){var e=1,t=document.getElementById("newpassword").value.trim(),i=document.getElementById("confirmpassword").value.trim();return""==t||null==t?(showpasswordresetAlert(),document.getElementById("forgotpassworderrormsg").innerHTML="Enter Password",document.getElementById("newpassword").focus(),e=1):t.length<6?(showpasswordresetAlert(),document.getElementById("forgotpassworderrormsg").innerHTML="Password must be at least 6 characters in length",document.getElementById("newpassword").focus(),e=1):""==i||null==i?(showpasswordresetAlert(),document.getElementById("forgotpassworderrormsg").innerHTML="Confirm the Password",document.getElementById("confirmpassword").focus(),e=1):t!=i?(showpasswordresetAlert(),document.getElementById("forgotpassworderrormsg").innerHTML="Password Does not Match",document.getElementById("confirmpassword").focus(),e=1):t==i&&(hidepasswordresetAlert(),e=0),e}function showpasswordresetAlert(){document.getElementById("forgotpassworderrormsg").style.display="block",document.getElementById("errordiv").style.display="block"}function hidepasswordresetAlert(){document.getElementById("errordiv").style.display="none",document.getElementById("forgotpassworderrormsg").style.display="none"}function htmlspecialchars(e){return"string"==typeof e&&(e=(e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/"/g,"&quot;")).replace(/'/g,"&#039;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")),e}function htmlspecialchars_decode(e){return"string"==typeof e&&(e=(e=(e=(e=(e=e.replace(/&gt;/gi,">")).replace(/&lt;/gi,"<")).replace(/&#039;/g,"'")).replace(/&quot;/gi,'"')).replace(/&amp;/gi,"&")),e}function ajaxcall(e,t,i,n,r){var l=null;return $.ajax({type:e,async:t,url:i,data:n,dataType:r,success:function(e){l=e},statusCode:{},error:function(e,t){ajaxerrors(e,t)}}),l}function ajaxerrors(e,t){0===e.status||(404==e.status?alert(" error Requested page not found. [404]"):500==e.status?alert("Internal Server Error [500]"):"parsererror"===t?alert("Requested JSON parse failed."):"timeout"===t?alert("Time out error."):"abort"===t?alert("Ajax request aborted."):alert("Uncaught Error.\n"+e.responseText))}function pushmessage(){if(document.getElementById("pushmessagetext"),!validmessageformdata()){var e=function(){return JSON.stringify({message:$("#pushmessagetext").val().trim()})}();ajaxcall("POST",!0,apibaseurlString+"publishpushnotification",e,"json"),showsuccess(),hidemessagepreviewForm(),document.getElementById("pushmessagetext").value=""}}function pushconfirmation(){hidesuccess(),validmessageformdata()||(hideAlert(),pushmessagepreview(),showmessagepreviewForm()),document.getElementById("pushmessagetext"),document.getElementById("previewmessage")}function validmessageformdata(){var e=0,t=$("#pushmessagetext").val().trim();return""!=t&&null!=t||(document.getElementById("alertMsg").innerHTML="Enter the Message to push",showAlert(),$("#pushmessagetext").focus(),e=1),e}function pushmessagepreview(){document.getElementById("previewmessage").innerHTML=$("#pushmessagetext").val().trim()}function showmessagepreviewForm(){$(".audvisor-pushmessage-preview-modal").modal("show")}function hidemessagepreviewForm(){$(".audvisor-pushmessage-preview-modal").modal("hide")}function expertreenable(e){$.ajax({type:"GET",async:!1,url:apibaseurlString+"experts/"+e+"/deleted",data:null,dataType:"json",success:function(e){set_deleted_expertpreview(e),deleted_expert_preview()},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function set_deleted_expertpreview(e){document.getElementById("dpreviewexpertname").innerHTML=e.firstname,document.getElementById("dpreviewlastname").innerHTML=e.lastname,document.getElementById("dpreviewexperttitle").innerHTML=e.title,document.getElementById("dpreviewpromotitle").innerHTML=e.expert_promo_title,document.getElementById("dpreviewexpertdesc").innerHTML=e.expert_bio,document.getElementById("expiddel").innerHTML=e.id;var t=e.avatar_link_2x,i=e.expert_bio_image,n=e.expert_thumbnail_image,r=e.expert_promo_image;$("#dpimage").attr("src",t),""==i&&null==i||$("#dpbioimage").attr("src",i),""==n&&null==n||$("#dpthumbnailimage").attr("src",n),""==r&&null==r||$("#dppromoimage").attr("src",r)}function deleted_expert_preview(){$(".audvisor-deleted_expert-preview-modal").modal("show")}function hide_deleted_expert_preview(){$(".audvisor-deleted_expert-preview-modal").modal("hide")}function re_enable_expert(e){var t=$("#expiddel").html();$.ajax({type:"POST",async:!1,url:apibaseurlString+"experts/"+t+"/reenable",data:null,dataType:"json",success:function(e){try{if(document.getElementById("successMsg").innerHTML="Expert Re-enabled Successfully",document.getElementById("images").value="",document.getElementById("expertvoiceover").value="",showsuccess(),hideexpertpreviewForm(),hideExpertformAlert(),n){var t=document.getElementById("expid"),i=document.createElement("option");i.value=e.records.expert_id,i.text=e.records.expert_name,t.appendChild(i),$("#expid").multiselect("rebuild"),$("#expid").multiselect("select",e.records.expert_id),$("#expid").multiselect("refresh"),hideExpertaddForm()}else hideexpertform();hide_deleted_expert_preview()}catch(n){alert("Error:"+n)}},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function reg_new_expert(e){document.getElementById("btneditexpert").disabled=!0;var t=$("#expdesc").val().trim(),i=$("#exptitle").val().trim(),n=$("#promotitle").val().trim(),r=$("#expprefix").val().trim();$.ajax({type:"POST",async:!1,url:apibaseurlString+"experts/regnew",data:function(){return $("#images").val(),JSON.stringify({name:$("#expname").val().trim(),title:i,lastname:$("#explastname").val().trim(),description:t,promotitle:n,rating:$("#exprating").val().trim(),prefix:r})}(),dataType:"json",success:function(e){alert(e.status),uploadexprtsvoiceoverAudio("regform1",e.records.expert_id),isexpertimageselected()&&uploadLogo("regform1",e.records.expert_id);try{if(document.getElementById("successMsg").innerHTML="Expert added successfully",document.getElementById("images").value="",document.getElementById("expertvoiceover").value="",showsuccess(),hideexpertpreviewForm(),hideExpertformAlert(),n){var t=document.getElementById("expid"),i=document.createElement("option");i.value=e.records.expert_id,i.text=e.records.expert_name,t.appendChild(i),$("#expid").multiselect("rebuild"),$("#expid").multiselect("select",e.records.expert_id),$("#expid").multiselect("refresh"),hideExpertaddForm()}else hideexpertform();hide_deleted_expert_preview()}catch(n){alert("Error:"+n)}},statusCode:{},error:function(e,t){ajaxerrors(e,t)}})}function cmsresetpassword(){var e=document.getElementById("CurrentPassword").value.trim(),t=document.getElementById("NewPassword").value.trim(),i=document.getElementById("ConfirmPassword").value.trim();if(!ispasswordformvalid()&&t==i){var n=function(){return JSON.stringify({user_id:$("#uname").val(),new_password:t,old_password:e})}(),r=ajaxcall("POST",!1,cmsbaseurlString+"passwordreset",n,"json");"success"==r.type?(hideAlert(),showsuccess(),document.getElementById("successMsg").innerHTML="Password Changed Successfully",clearpasswordresetform()):"error"==r.type&&(hidesuccess(),showAlert(),document.getElementById("alertMsg").innerHTML="Password Does not match",clearpasswordresetform())}}function ispasswordformvalid(){var e=0,t=document.getElementById("CurrentPassword").value.trim(),i=document.getElementById("NewPassword").value.trim(),n=document.getElementById("ConfirmPassword").value.trim();return""===t||null===t?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter Current Password",document.getElementById("CurrentPassword").focus(),e=1):""===i||null===i?(showAlert(),document.getElementById("alertMsg").innerHTML="Enter New Password",document.getElementById("NewPassword").focus(),e=1):""===n||null===n?(showAlert(),document.getElementById("alertMsg").innerHTML="Confirm the Password",document.getElementById("ConfirmPassword").focus(),e=1):n!==i&&(showAlert(),document.getElementById("alertMsg").innerHTML="New Password and Confirm Password  does not match",document.getElementById("ConfirmPassword").focus(),e=1),e}function clearpasswordresetform(){document.getElementById("CurrentPassword").value="",document.getElementById("NewPassword").value="",document.getElementById("ConfirmPassword").value=""}function clear_fileinputs(){document.getElementById("images").value="",document.getElementById("bioimage").value="",document.getElementById("thumbnailimage").value="",document.getElementById("promoimage").value="",document.getElementById("expertvoiceover").value=""}function forgot_password_cancel(){document.getElementById("newpassword").value="",document.getElementById("confirmpassword").value="",hideAlert(),hidesuccess()}function hideexpertweight(){hidesettingsAlert("alertMsgexpertweight"),document.getElementById("fldexpertweighting").value="",$(".audvisor-expertweight-edit-modal").modal("hide")}function hidefirstweight(){hidesettingsAlert("alertMsgfirstweight"),document.getElementById("fldfirstmostlistenedweight").value="",$(".audvisor-firstweight-edit-modal").modal("hide")}function hidesecondweight(){hidesettingsAlert("alertMsgsecondweight"),document.getElementById("fldsecondmostlistenedweight").value="",$(".audvisor-secondweight-edit-modal").modal("hide")}function hidethirdweight(){hidesettingsAlert("alertMsgthirdweight"),document.getElementById("fldthirdmostlistenedweight").value="",$(".audvisor-thirdweight-edit-modal").modal("hide")}function hidefourthweight(){hidesettingsAlert("alertMsgfourthweight"),document.getElementById("fldfourthmostlistenedweight").value="",$(".audvisor-fourthweight-edit-modal").modal("hide")}function hideinsightcount(){hidesettingsAlert("alertMsginsightcount"),document.getElementById("fldrecommendedinsightlimit").value="",$(".audvisor-insightcount-edit-modal").modal("hide")}function hideinsightweight(){document.getElementById("fldinsightweighting").value="",$(".audvisor-insightweight-edit-modal").modal("hide")}function isinsightweightValid(){var e=0;hidesuccess();var t=$("#fldinsightweighting").val().trim();return null!=t&&""!=t||(showAlert1(),hidesuccess(),document.getElementById("alertMsg1").innerHTML="Enter Insight Weight",document.getElementById("fldinsightweighting").focus(),e=1),e}function showsettingsAlert(e,t){document.getElementById(e).style.display="block",document.getElementById(e).innerHTML=t}function hidesettingsAlert(e){document.getElementById(e).style.display="none",document.getElementById(e).innerHTML=""}function isexpertweightValid(){var e=0;hidesuccess();var t=$("#fldexpertweighting").val().trim();return null!=t&&""!=t||(hidesuccess(),showsettingsAlert("alertMsgexpertweight","Enter Expert Weight"),document.getElementById("fldexpertweighting").focus(),e=1),e}function isfirstweightValid(){var e=0;hidesuccess();var t=$("#fldfirstmostlistenedweight").val().trim();return null!=t&&""!=t||(hidesuccess(),showsettingsAlert("alertMsgfirstweight","Enter  value"),document.getElementById("fldfirstmostlistenedweight").focus(),e=1),e}function issecondweightValid(){var e=0;hidesuccess();var t=$("#fldsecondmostlistenedweight").val().trim();return null!=t&&""!=t||(hidesuccess(),showsettingsAlert("alertMsgsecondweight","Enter Value"),document.getElementById("fldsecondmostlistenedweight").focus(),e=1),e}function isthirdweightValid(){var e=0;hidesuccess();var t=$("#fldthirdmostlistenedweight").val().trim();return null!=t&&""!=t||(hidesuccess(),showsettingsAlert("alertMsgthirdweight","Enter Value"),document.getElementById("fldthirdmostlistenedweight").focus(),e=1),e}function isfourthweightValid(){var e=0;hidesuccess();var t=$("#fldfourthmostlistenedweight").val().trim();return null!=t&&""!=t||(hidesuccess(),showsettingsAlert("alertMsgfourthweight","Enter Value"),document.getElementById("fldfourthmostlistenedweight").focus(),e=1),e}function isinsightcountValid(){var e=0;hidesuccess();var t=$("#fldrecommendedinsightlimit").val().trim();return null==t||""==t?(hidesuccess(),showsettingsAlert("alertMsginsightcount","Enter Insight Limit"),document.getElementById("fldrecommendedinsightlimit").focus(),e=1):10>t&&(hidesuccess(),showsettingsAlert("alertMsginsightcount","Insight Limit  cannot be < 10 "),document.getElementById("fldrecommendedinsightlimit").focus(),e=1),e}function showpreviewmodal(e){$(e).modal("show")}function hidepreviewmodal(e){$(e).modal("hide")}function insightweightpreview(){document.getElementById("previewinsightweight").innerHTML=$("#fldinsightweighting").val().trim()}function expertweightpreview(){document.getElementById("previewexpertweight").innerHTML=$("#fldexpertweighting").val().trim()}function firstweightpreview(){document.getElementById("previewfirstweight").innerHTML=$("#fldfirstmostlistenedweight").val().trim()}function secondweightpreview(){document.getElementById("previewsecondweight").innerHTML=$("#fldsecondmostlistenedweight").val().trim()}function thirdweightpreview(){document.getElementById("previewthirdweight").innerHTML=$("#fldthirdmostlistenedweight").val().trim()}function fourthweightpreview(){document.getElementById("previewfourthweight").innerHTML=$("#fldfourthmostlistenedweight").val().trim()}function insightlimitpreview(){document.getElementById("previewinsightlimit").innerHTML=$("#fldrecommendedinsightlimit").val().trim()}function insightweightconfirm(){isinsightweightValid()||(hideTopicAlert(),insightweightpreview(),showpreviewmodal(".audvisor-insightweight-editpreview-modal"))}function expertweightconfirm(){isexpertweightValid()||(hideTopicAlert(),expertweightpreview(),showpreviewmodal(".audvisor-expertweight-editpreview-modal"))}function firstweightconfirm(){isfirstweightValid()||(hideTopicAlert(),firstweightpreview(),showpreviewmodal(".audvisor-firstweight-editpreview-modal"))}function secondweightconfirm(){issecondweightValid()||(hideTopicAlert(),secondweightpreview(),showpreviewmodal(".audvisor-secondweight-editpreview-modal"))}function thirdweightconfirm(){isthirdweightValid()||(hideTopicAlert(),thirdweightpreview(),showpreviewmodal(".audvisor-thirdweight-editpreview-modal"))}function fourthweightconfirm(){isfourthweightValid()||(hideTopicAlert(),fourthweightpreview(),showpreviewmodal(".audvisor-fourthweight-editpreview-modal"))}function insightcountconfirm(){isinsightcountValid()||(hideTopicAlert(),insightlimitpreview(),showpreviewmodal(".audvisor-insightlimit-editpreview-modal"))}function cancelinsightweightpreview(){hidepreviewmodal(".audvisor-insightweight-editpreview-modal")}function cancelexpertweightpreview(){hidepreviewmodal(".audvisor-expertweight-editpreview-modal")}function cancelfirstweightpreview(){hidepreviewmodal(".audvisor-firstweight-editpreview-modal")}function cancelsecondweightpreview(){hidepreviewmodal(".audvisor-secondweight-editpreview-modal")}function cancelthirdweightpreview(){hidepreviewmodal(".audvisor-thirdweight-editpreview-modal")}function cancelfourthweightpreview(){hidepreviewmodal(".audvisor-fourthweight-editpreview-modal")}function cancelinsightcountpreview(){hidepreviewmodal(".audvisor-insightlimit-editpreview-modal")}function updatesettings(e){var t=document.getElementById(e).value,i=function(){return JSON.stringify({fldsettingsvalue:t,fldsettingsname:e})}();ajaxcall("POST",!1,apibaseurlString+"generalsettings",i,"json"),location.reload()}function filterinsights(){var e=$("#topiclist option:selected").text(),t=$("#topinsight").find("tr");"All"!=e?(t.hide(),t.filter(function(){for(var t=$(this),t=$(this).find("td.topic"),i=0;i<e.length;++i)if(t.is(":contains('"+e+"')"))return!0;return!1}).show()):t.show()}function promocodeconfirmation(){isAddPromocodeValid()||(hideAlert(),promocodepreview(),showpromopreviewform())}function promocodepreview(){document.getElementById("previewpromocode").innerHTML=$("#promocode").val().trim();var e=document.getElementById("startdate").value,t=document.getElementById("enddate").value;document.getElementById("previewstartdate").innerHTML=e,document.getElementById("previewenddate").innerHTML=t}function showpromopreviewform(){$(".audvisor-promocode-preview-modal").modal("show")}function hidepromopreviewform(){$(".audvisor-promocode-preview-modal").modal("hide")}function isAddPromocodeValid(){var e=0;hidesuccess();var t=$("#promocode").val().trim(),i=($("#startdate").val().trim(),$("#enddate").val().trim(),$("#enddate").datepicker("getDate")),n=$("#startdate").datepicker("getDate"),r=new Date;return r.setHours(0,0,0,0),null==t||""==t?(showAlert(),hidesuccess(),document.getElementById("alertMsg").innerHTML="Enter 15 digit Promocode",document.getElementById("promocode").focus(),e=1):n>i?(showAlert(),hidesuccess(),document.getElementById("alertMsg").innerHTML="End Date should be greater than or equal to  Start Date ",document.getElementById("enddate").focus(),e=1):r>i&&(showAlert(),hidesuccess(),document.getElementById("alertMsg").innerHTML="End Date should be greater than or equal to  Today  ",
document.getElementById("enddate").focus(),e=1),e}function gettoday(){var e=new Date,t=e.getDate(),i=e.getMonth()+1,n=e.getFullYear();return 10>t&&(t="0"+t),10>i&&(i="0"+i),e=n+"-"+i+"-"+t}function addpromocode(){var e=$("#promocode").val().trim(),t=$("#startdate").val().trim()+" 00:00:00",i=$("#enddate").val().trim()+" 00:00:00";if(!isAddPromocodeValid()){var n=function(){return JSON.stringify({promo_code:e,start_date:t,end_date:i})}();1==ajaxcall("POST",!1,apibaseurlString+"promocode",n,"json").status?alert("Promocode already exists "):(document.getElementById("alertMsg").style.display="none",document.getElementById("successMsg").innerHTML="Promo Code added successfully",showsuccess(),hidepromopreviewform()),document.getElementById("promocode").value="",document.getElementById("startdate").value=gettoday(),document.getElementById("enddate").value=gettoday()}}function onpromocodeEditBtnClick(e,t,i,n){var r=i.split(" "),l=n.split(" ");document.getElementById("promocode").value=t.trim(),document.getElementById("startdate").value=r[0],document.getElementById("enddate").value=l[0],document.getElementById("promocode").focus(),document.getElementById("promocodeid").value=e,hideAlert(),showEditPromo()}function showEditPromo(){$(".modal audvisor-promocode-edit-modal").modal("show")}function hidepromoeditForm(){$(".audvisor-promocode-edit-modal").modal("hide")}function editpromocode(){var e=$("#promocode").val().trim(),t=$("#promocodeid").val().trim(),i=$("#startdate").val().trim()+" 00:00:00",n=$("#enddate").val().trim()+" 00:00:00";if(!isAddPromocodeValid()){var r=function(){return JSON.stringify({promo_code:e,start_date:i,end_date:n})}();1==ajaxcall("PUT",!1,apibaseurlString+"promocode/"+t,r,"json").status?alert("Error in editing promocode "):(document.getElementById("alertMsg").style.display="none",document.getElementById("successMsg").innerHTML="Promo Code added successfully",hidepromoeditForm(),showsuccess(),hidepromopreviewform()),document.getElementById("promocode").value="",document.getElementById("startdate").value=gettoday(),document.getElementById("enddate").value=gettoday(),location.reload()}}function onPromocodeDeleteBtnClick(e){if(1==confirm("Are you sure you want to delete this Promo code ? \n \nPress OK to continue, or click Cancel to abort the deletion.")){var t=ajaxcall("delete",!1,apibaseurlString+"promocode/"+e,null,"json");if(1==t.status)return alert("This promocode is being used by user(s). Hence it could not be deleted"),0;if(2==t.status)return alert("Error occured while deleting"),0;location.reload()}}function letternumber(e){var t,i;if(window.event)t=window.event.keyCode;else{if(!e)return!0;t=e.which}return i=String.fromCharCode(t),i=i.toLowerCase(),null==t||0==t||8==t||9==t||13==t||27==t||"abcdefghijklmnopqrstuvwxyz0123456789".indexOf(i)>-1}function unescapeHTML(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#039;/g,"'")}function playlistconfirmation(e){isAddPlaylistValid()||(hidePlaylistAlert(),$("#btnAddplaylist").removeAttr("disabled"),playlistpreview(),showplaylistpreviewform(),e&&(hideplaylistmodalform(),showplaylistpreviewmodal()))}function showplaylistpreviewform(){$(".audvisor-playlist-preview-modal").modal("show")}function hideplaylistpreviewform(){$(".audvisor-playlist-preview-modal").modal("hide")}function playlisteditconirmation(){isUpdatePlaylistValid()||(playlisteditpreview(),showplaylistpreviewform())}function playlistpreview(){document.getElementById("previewplaylistname").innerHTML=$("#playlistname").val().trim(),$("#listorder").length>0&&(document.getElementById("previewlistorder").innerHTML=$("#listorder").val().trim())}function hidePlaylistAlert(){document.getElementById("alertMsg1").style.display="none"}function isAddPlaylistValid(){var e=0;hidesuccess();var t=$("#playlistname").val().trim();return null!=t&&""!=t||(showAlert1(),hidesuccess(),document.getElementById("alertMsg1").innerHTML="Enter PlayList name",document.getElementById("playlistname").focus(),e=1),e}function addPlaylist(e){var t=document.getElementById("playlistname").value;if(!isAddPlaylistValid()){var i=function(){return JSON.stringify({playlist_name:t})}(),n=ajaxcall("POST",!1,apibaseurlString+"addPlayList",i,"json");if(document.getElementById("alertMsg1").style.display="none",document.getElementById("successMsg").innerHTML="playlist added successfully",showsuccess(),e){var r=document.getElementById("playlistid"),l=document.createElement("option");l.value=n.records.playlist_id,l.text=n.records.playlist_name,r.appendChild(l),$("#playlistid").multiselect("rebuild"),$("#playlistid").multiselect("select",n.records.playlist_id),hideaddplaylist()}else document.getElementById("playlistname").value="",hideplaylistpreviewform()}}function onPlayListEditBtnClick(e,t,i,n){document.getElementById("eplaylistname").value=t.trim(),document.getElementById("elistorder").value=i,document.getElementById("playlistid").value=e,document.getElementById("eplaylistname").focus(),hidePlayListAlert(),showEditPlayList()}function hidePlayListAlert(){document.getElementById("alertMsg1").style.display="none"}function showEditPlayList(){document.getElementById("newplaylistEdit").style.display="block",document.getElementById("eplaylistname").focus(),hidePlayListAlert()}function getPlayListstat(){var e=getstatistics(),t=0;e.insightcount&&(t=e.insightcount/e.topiccount),updateStatistics(e.topiccount+"  topics with "+e.insightcount+"  insights (Average "+t.toFixed(2)+" insights per topic)")}function isUpdatePlaylistValid(){var e=0,t=document.forms.newplaylistEditForm.eplaylistname.value.trim();return null!=t&&""!=t||(showAlert1(),document.getElementById("alertMsg1").innerHTML="Enter PlayList Name",document.getElementById("eplaylistname").focus(),e=1),e}function playlisteditpreview(){document.getElementById("previewplaylistname").innerHTML=$("#eplaylistname").val().trim(),$("#elistorder").length>0&&(document.getElementById("previewlistorder").innerHTML=$("#elistorder").val().trim())}function UpdatePlayList(){var e=document.forms.newplaylistEditForm.eplaylistname.value.trim(),t=document.forms.newplaylistEditForm.elistorder.value.trim(),i=document.forms.newplaylistEditForm.playlistid.value.trim();isUpdatePlaylistValid()||$.ajax({type:"put",url:apibaseurlString+"playlists/update/"+i,data:function(){return JSON.stringify({playlist_id:i,playlist_name:e,list_order:t})}(),dataType:"json",success:function(e){0==e.status?(document.getElementById(e.playlist.id).innerHTML=e.playlist.name,hidePlayListupdateForm(),hideplaylistpreviewform(),location.reload()):2==e.status?(hideplaylistpreviewform(),alert('PlayList "'+e.playlist_name+'" exists. If you have previously deleted "'+e.playlist_name+'" kindly add it again')):3==e.status&&location.reload()},statusCode:{200:function(){hidePlayListupdateForm(),hideplaylistpreviewform(),location.reload()}},error:function(e,t){ajaxerrors(e,t)}})}function hidePlayListupdateForm(){document.getElementById("newplaylistEdit").style.display="none",document.getElementById("eplaylistname").value="",$(".audvisor-playlist-edit-modal").modal("hide")}function onPlayListDeleteBtnClick(e){1==confirm("Are you sure you want to delete this Playlist ? \n \nPress OK to continue, or click Cancel to abort the deletion.")&&(ajaxcall("put",!1,apibaseurlString+"playlists/delete/"+e,null,"json"),location.reload())}function showaddPlayList(){hidesuccess(),hidePlayListAlert(),showplaylistmodalform(),document.getElementById("newplaylistAdd").style.display="block",document.getElementById("playlistname").value="",document.getElementById("playlistname").focus()}function showplaylistmodalform(){document.getElementById("playlistpreviewbutton").style.display="none",document.getElementById("previewplaylistform").style.display="none",document.getElementById("newplaylistAddForm").style.display="block",document.getElementById("playlistaddbutton").style.display="block"}function hideplaylistmodalform(){document.getElementById("newplaylistAddForm").style.display="none",document.getElementById("playlistaddbutton").style.display="none"}function showplaylistpreviewmodal(){document.getElementById("playlistpreviewbutton").style.display="block",document.getElementById("previewplaylistform").style.display="block"}function hideaddplaylist(){document.getElementById("newplaylistAdd").style.display="none",document.getElementById("playlistname").value=" ",$(".audvisor-playlist-add-modal").modal("hide")}function onPlayListViewBtnClick(e){var t="/playlistInsightsView/"+e;location.href=t}function onPlayListInsightEditBtnClick(e,t,i,n){document.getElementById("playlistid").value=e,document.getElementById("playlistinsightid").value=t,document.getElementById("eplaylistinsightname").innerHTML=i.trim(),document.getElementById("eplaylistinsightlistorder").value=n,document.getElementById("eplaylistinsightlistorder").focus(),hidePlayListAlert(),showEditPlayListInsight()}function showEditPlayListInsight(){document.getElementById("newplaylistinsightEdit").style.display="block",document.getElementById("eplaylistinsightlistorder").focus(),hidePlayListAlert()}function playlistinsighteditconirmation(){isUpdatePlaylistinsightValid()||(playlistinsighteditpreview(),showplaylistinsightpreviewform())}function isUpdatePlaylistinsightValid(){var e=0,t=document.forms.newplaylistinsightEditForm.eplaylistinsightlistorder.value.trim();return null!=t&&""!=t||(showAlert1(),document.getElementById("alertMsg1").innerHTML="Enter List order",document.getElementById("eplaylistinsightlistorder").focus(),e=1),e}function playlistinsighteditpreview(){document.getElementById("previewplaylistinsightname").innerHTML=$("#eplaylistinsightname").text().trim(),document.getElementById("previewplaylistinsightlistorder").innerHTML=$("#eplaylistinsightlistorder").val().trim()}function showplaylistinsightpreviewform(){$(".audvisor-playlist-insight-preview-modal").modal("show")}function hideplaylistinsightpreviewform(){$(".audvisor-playlist-insight-preview-modal").modal("hide")}function UpdatePlayListInsightListOrder(){var e=document.forms.newplaylistinsightEditForm.playlistid.value.trim(),t=document.forms.newplaylistinsightEditForm.playlistinsightid.value.trim(),i=document.forms.newplaylistinsightEditForm.eplaylistinsightlistorder.value.trim();isUpdatePlaylistinsightValid()||$.ajax({type:"put",url:apibaseurlString+"playlists/updateListOrder/",data:function(){return JSON.stringify({playlist_id:e,playlist_insight_id:t,list_order:i})}(),dataType:"json",success:function(e){0==e.status?(document.getElementById(e.playlist.id).innerHTML=e.playlist.name,hidePlayListInsightupdateForm(),hideplaylistinsightpreviewform(),location.reload()):2==e.status?(hideplaylistinsightpreviewform(),alert('PlayList "'+e.playlist_name+'" exists. If you have previously deleted "'+e.playlist_name+'" kindly add it again')):3==e.status&&location.reload()},statusCode:{200:function(){hidePlayListInsightupdateForm(),hideplaylistinsightpreviewform(),location.reload()}},error:function(e,t){ajaxerrors(e,t)}})}function hidePlayListInsightupdateForm(){document.getElementById("newplaylistinsightEdit").style.display="none",document.getElementById("eplaylistinsightlistorder").value="",$(".audvisor-playlist-insight-edit-modal").modal("hide")}function onPlayListInsightDeleteBtnClick(e,t){if(1==confirm("Are you sure you want to delete this Playlist ? \n \nPress OK to continue, or click Cancel to abort the deletion.")){var i=function(){return JSON.stringify({playlist_id:e,playlist_insight_id:t})}();ajaxcall("put",!1,apibaseurlString+"playlists/deletePlayListInsights/",i,"json"),location.reload()}}var awsurl="https://com-audvisor-insight-streams"+environment+"-"+client_id+"/",awsvoiceoverurl="https://com-audvisor-insight-voiceover"+environment+"-"+client_id+"/insight_voiceover/";$(document).ready(function(){$("*").dblclick(function(e){e.preventDefault()})});
